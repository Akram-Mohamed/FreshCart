"use strict";(self.webpackChunkFresh_Cart_site=self.webpackChunkFresh_Cart_site||[]).push([[530],{1530:(g,c,d)=>{d.r(c),d.d(c,{GetUserOrdersComponent:()=>O});var i=d(6814),e=d(4769);function u(r,o){if(1&r&&(e.TgZ(0,"div",4)(1,"div",5)(2,"div",6)(3,"div",7),e._UZ(4,"img",8),e.qZA(),e.TgZ(5,"div",9)(6,"h5",10),e._uU(7),e.qZA(),e.TgZ(8,"p"),e._uU(9),e.qZA(),e.TgZ(10,"p",11),e._uU(11),e.ALo(12,"currency"),e.qZA()()()(),e.TgZ(13,"div",7)(14,"p",12),e._uU(15),e.qZA()()()),2&r){const s=o.$implicit;e.xp6(4),e.Q6J("src",s.product.imageCover,e.LSH),e.xp6(3),e.Oqu(s.product.title.split(" ").slice(0,2).join(" ")),e.xp6(2),e.Oqu(s.product.category.name),e.xp6(2),e.hij("Product price: ",e.xi3(12,5,s.price,"EGP "),""),e.xp6(4),e.hij("Quantity: ",s.count,"")}}let p=(()=>{var r;class o{constructor(){}ngAfterViewInit(){this.userOrderBoxTest=this.userOrderBox}}return(r=o).\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-user-orders-card"]],inputs:{userOrderBox:"userOrderBox",indexOfelementChild:"indexOfelementChild"},standalone:!0,features:[e.jDz],decls:9,vars:7,consts:[[1,"fw-bolder","text-success","fs-1"],["class","order-item row justify-content-between align-items-center  px-4 py-3 rounded-3 ",4,"ngFor","ngForOf"],[1,"paymentMethodType","py-3","d-flex","justify-content-between","align-items-center","fw-bold","fs-5"],[1,"text-main"],[1,"order-item","row","justify-content-between","align-items-center","px-4","py-3","rounded-3"],[1,"col-md-7"],[1,"row","justify-content-center","align-items-center"],[1,"col-md-2"],["alt","",1,"w-100","img-thumbnail",3,"src"],[1,"col-md-10"],[1,""],[1,"product_price"],[1,"fw-bolder","fs-4"]],template:function(t,n){1&t&&(e.TgZ(0,"p",0),e._uU(1),e.qZA(),e.YNc(2,u,16,8,"div",1),e.TgZ(3,"div",2)(4,"span"),e._uU(5),e.qZA(),e.TgZ(6,"span",3),e._uU(7),e.ALo(8,"currency"),e.qZA()()),2&t&&(e.xp6(1),e.hij("Order: ",n.indexOfelementChild+1,""),e.xp6(1),e.Q6J("ngForOf",n.userOrderBox.cartItems),e.xp6(3),e.hij(" Payment Method: ",n.userOrderBox.paymentMethodType,""),e.xp6(2),e.hij(" Total Price: ",e.xi3(8,4,n.userOrderBox.totalOrderPrice,"EGP ")," "))},dependencies:[i.ez,i.sg,i.H9],styles:[".order_card_holder[_ngcontent-%COMP%]{box-shadow:#00000030 0 10px 20px,#0000003b 0 6px 6px;margin-bottom:2rem}.order-item[_ngcontent-%COMP%]{background-color:#f0f8ff;box-shadow:#11111a1a 0 4px 16px,#11111a1a 0 8px 24px,#11111a1a 0 16px 56px;margin:1rem}.paymentMethodType[_ngcontent-%COMP%]{padding-inline:1.5rem}.product_price[_ngcontent-%COMP%]{font-weight:900}"]}),o})();var l=d(5374),a=d(7163);function m(r,o){if(1&r&&e._UZ(0,"app-user-orders-card",6),2&r){const t=o.index;e.Q6J("userOrderBox",o.$implicit)("indexOfelementChild",t)}}let O=(()=>{var r;class o{constructor(t,n,f){this._OrdersService=t,this._Router=n,this._ActivatedRoute=f,this.userOrders=[],this.errorMsg="",this.currentUserId="",this.totalOrderPrice=0,this._ActivatedRoute.params.subscribe(h=>{this.currentUserId=h.userId,this.getUserOrders()})}getUserOrders(){$(".wait-users-loader ").css("visibility","visible"),$(".wait-users-loader ").fadeIn(100),this._OrdersService.getUserOrders(this.currentUserId).subscribe({next:t=>{this.userOrders=t;for(const n in this.userOrders)this.totalOrderPrice+=this.userOrders[n].totalOrderPrice},error:t=>{this.errorMsg=t.error.message,$(".wait-users-loader ").fadeOut(1e3)},complete:()=>{$(".wait-users-loader ").fadeOut(1e3)}})}}return(r=o).\u0275fac=function(t){return new(t||r)(e.Y36(l.N),e.Y36(a.F0),e.Y36(a.gz))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-get-user-orders"]],standalone:!0,features:[e.jDz],decls:8,vars:5,consts:[[1,"get-user-orders-component-holder"],[1,"container","mt-4","d-flex","justify-content-center","align-items-between","flex-column"],[1,"d-flex","justify-content-start","align-items-center","py-1"],[1,"text-main","fw-bolder"],[1,"order_card_child_holder","row","px-5","mt-2"],["class","col-md-12  rounded-3",3,"userOrderBox","indexOfelementChild",4,"ngFor","ngForOf"],[1,"col-md-12","rounded-3",3,"userOrderBox","indexOfelementChild"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h5",3),e._uU(4),e.ALo(5,"currency"),e.qZA()(),e.TgZ(6,"div",4),e.YNc(7,m,1,2,"app-user-orders-card",5),e.qZA()()()),2&t&&(e.xp6(4),e.hij("Total Price: ",e.xi3(5,2,n.totalOrderPrice,"EGP ")," "),e.xp6(3),e.Q6J("ngForOf",n.userOrders))},dependencies:[i.ez,i.sg,i.H9,p],styles:[".get-user-orders-component-holder[_ngcontent-%COMP%]{margin-top:6rem}"]}),o})()}}]);