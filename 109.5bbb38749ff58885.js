"use strict";(self.webpackChunkFresh_Cart_site=self.webpackChunkFresh_Cart_site||[]).push([[109],{9109:(g,c,s)=>{s.r(c),s.d(c,{AllordersComponent:()=>m});var d=s(6814),a=s(6726),e=s(4769),l=s(5374);function p(o,n){if(1&o&&(e.TgZ(0,"div",10)(1,"div",11)(2,"div",12)(3,"div",13),e._UZ(4,"img",14),e.qZA(),e.TgZ(5,"div",15)(6,"h5",16),e._uU(7),e.qZA(),e.TgZ(8,"p"),e._uU(9),e.qZA(),e.TgZ(10,"p",17),e._uU(11),e.ALo(12,"currency"),e.qZA()()()(),e.TgZ(13,"div",13)(14,"p",18),e._uU(15),e.qZA()()()),2&o){const r=n.$implicit;e.xp6(4),e.Q6J("src",r.product.imageCover,e.LSH),e.xp6(3),e.Oqu(r.product.title.split(" ").slice(0,2).join(" ")),e.xp6(2),e.Oqu(r.product.category.name),e.xp6(2),e.hij("Product price: ",e.xi3(12,5,r.price,"EGP "),""),e.xp6(4),e.hij("Quantity: ",r.count,"")}}function u(o,n){if(1&o&&(e.TgZ(0,"div",5)(1,"p",6),e._uU(2),e.qZA(),e.YNc(3,p,16,8,"div",7),e.TgZ(4,"div",8)(5,"span"),e._uU(6),e.qZA(),e.TgZ(7,"span",9),e._uU(8),e.ALo(9,"currency"),e.qZA()()()),2&o){const r=n.$implicit,t=n.index;e.xp6(2),e.hij("Order: ",t+1,""),e.xp6(1),e.Q6J("ngForOf",r.cartItems),e.xp6(3),e.hij(" Payment Method: ",r.paymentMethodType,""),e.xp6(2),e.hij(" Total Price: ",e.xi3(9,4,r.totalOrderPrice,"EGP ")," ")}}let m=(()=>{var o;class n{constructor(t){this._OrdersService=t,this.userOrders=[],this.errorMsg="",this.currentUserId="",this.totalOrderPrice=0,this.imageUrl="../../../src/assets/Images/light-patten.svg";let i=localStorage.getItem("userToken");this.currentUserData=(0,a.Z)(i),this.currentUserId=this.currentUserData.id,this.getUserOrders()}getUserOrders(){$(".wait-loader").css("visibility","visible"),$(".wait-loader").fadeIn(100),this._OrdersService.getUserOrders(this.currentUserId).subscribe({next:t=>{this.userOrders=t;for(const i in this.userOrders)this.totalOrderPrice+=this.userOrders[i].totalOrderPrice},error:t=>{this.errorMsg=t.error.message,$(".wait-loader").fadeOut(1e3)},complete:()=>{$(".wait-loader").fadeOut(1e3)}})}}return(o=n).\u0275fac=function(t){return new(t||o)(e.Y36(l.N))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-allorders"]],standalone:!0,features:[e.jDz],decls:7,vars:5,consts:[[1,"get-user-orders-component-holder","bg-dashboard"],[1,"container","mt-4","d-flex","justify-content-center","align-items-between","flex-column"],[1,"d-flex","justify-content-start","align-items-center","py-1"],[1,"text-main","fw-bolder"],["class","row  px-5 mt-2 order_card_holder rounded-2",4,"ngFor","ngForOf"],[1,"row","px-5","mt-2","order_card_holder","rounded-2"],[1,"fw-bolder","text-success","fs-1"],["class","order-item row justify-content-between align-items-center  px-4 py-3  rounded-3",4,"ngFor","ngForOf"],[1,"paymentMethodType","py-3","d-flex","justify-content-between","align-items-center","fw-bold","fs-5"],[1,"text-main"],[1,"order-item","row","justify-content-between","align-items-center","px-4","py-3","rounded-3"],[1,"col-md-7"],[1,"row","justify-content-center","align-items-center"],[1,"col-md-2"],["alt","",1,"w-100","img-thumbnail",3,"src"],[1,"col-md-10"],[1,""],[1,"product_price"],[1,"fw-bolder","fs-4"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h5",3),e._uU(4),e.ALo(5,"currency"),e.qZA()(),e.YNc(6,u,10,7,"div",4),e.qZA()()),2&t&&(e.xp6(4),e.hij("Total Price: ",e.xi3(5,2,i.totalOrderPrice,"EGP ")," "),e.xp6(2),e.Q6J("ngForOf",i.userOrders))},dependencies:[d.ez,d.sg,d.H9],styles:[".order_card_holder[_ngcontent-%COMP%]{box-shadow:#00000030 0 10px 20px,#0000003b 0 6px 6px;margin-bottom:2rem}.order-item[_ngcontent-%COMP%]{background-color:#f0f8ff;box-shadow:#11111a1a 0 4px 16px,#11111a1a 0 8px 24px,#11111a1a 0 16px 56px;margin:1rem}.paymentMethodType[_ngcontent-%COMP%]{padding-inline:1.5rem}.product_price[_ngcontent-%COMP%]{font-weight:900}.bg-dashboard[_ngcontent-%COMP%]{background-image:url(light-patten.217f1d0163f61c1d.svg);background-size:100%}.get-user-orders-component-holder[_ngcontent-%COMP%]{margin-top:5rem}"]}),n})()}}]);