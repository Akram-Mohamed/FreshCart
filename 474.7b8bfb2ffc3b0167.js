"use strict";(self.webpackChunkFresh_Cart_site=self.webpackChunkFresh_Cart_site||[]).push([[474],{3474:(L,l,n)=>{n.r(l),n.d(l,{WishListComponent:()=>C});var u=n(6814),c=n(7163),t=n(4769),_=n(2333),g=n(832),v=n(2623);const h=["svg_filled"],p=["svg_celebrate"],m=function(o){return["/productDetails",o]};function f(o,d){if(1&o){const r=t.EpF();t.TgZ(0,"div",5)(1,"div",6),t.NdJ("click",function(i){t.CHM(r);const s=t.oxw();return t.KtG(s.fieldsChange(i))}),t.TgZ(2,"div",7),t.O4$(),t.TgZ(3,"svg",8),t._UZ(4,"path",9),t.qZA(),t.TgZ(5,"svg",10,11),t._UZ(7,"path",12),t.qZA(),t.TgZ(8,"svg",13,14),t._UZ(10,"polygon",15)(11,"polygon",16)(12,"polygon",17)(13,"polygon",18)(14,"polygon",19)(15,"polygon",20),t.qZA()()(),t.kcU(),t.TgZ(16,"div",21)(17,"div",22),t._UZ(18,"img",23),t.TgZ(19,"p",24),t._uU(20),t.qZA(),t.TgZ(21,"h5"),t._uU(22),t.qZA(),t.TgZ(23,"div",25)(24,"span"),t._uU(25),t.qZA(),t.TgZ(26,"span"),t._UZ(27,"i",26),t._uU(28),t.qZA()()(),t.TgZ(29,"button",27),t.NdJ("click",function(){const s=t.CHM(r).$implicit,a=t.oxw();return t.KtG(a.addProductToCart(s._id))}),t._uU(30,"Add to Cart"),t.qZA()()()}if(2&o){const r=d.$implicit;t.xp6(5),t.Q6J("id",r._id),t.xp6(3),t.Q6J("id",r._id),t.xp6(9),t.Q6J("routerLink",t.VKq(8,m,r._id)),t.xp6(1),t.Q6J("src",r.imageCover,t.LSH),t.xp6(2),t.hij(" ",r.category.name,""),t.xp6(2),t.Oqu(r.title.split(" ").slice(0,2).join(" ")),t.xp6(3),t.hij("",r.price,"egp"),t.xp6(3),t.hij(" ",r.ratingsAverage," ")}}let C=(()=>{var o;class d{constructor(e,i,s,a,w){this._AuthService=e,this._ProductsService=i,this._ActivatedRoute=s,this._Router=a,this._CartService=w,this.productWishList=[],this.foundProductWishList=!1,this.foundProductWishListSvgHeart=!1,this.getLoggeduUserWishlist()}addProductToCart(e){$(".wait-loader").css("visibility","visible"),$(".wait-loader").fadeIn(100),this._CartService.addProductToCart(e).subscribe({next:i=>{this._CartService.savecounterNumberValue(i.numOfCartItems),Swal.fire("Good job!",i.message,"success")},error:i=>{$(".wait-loader").fadeOut(1e3),Swal.fire({title:"Error!",text:i.error.message,icon:"error",confirmButtonText:"Cool"})},complete:()=>{$(".wait-loader").fadeOut(800)}})}getLoggeduUserWishlist(){$(".wait-users-loader ").css("visibility","visible"),$(".wait-users-loader ").fadeIn(100),this._ProductsService.getLoggeduUserWishlist().subscribe({next:e=>{this.productWishList=e.data},error:e=>{$(".wait-users-loader ").fadeOut(1e3)},complete:()=>{$(".wait-users-loader ").fadeOut(1e3)}})}fieldsChange(e){let i=$(e.currentTarget).children().children().eq(1)[0].attributes.id.nodeValue;this.svgFilled.forEach(s=>{s.nativeElement.attributes.id.nodeValue==i&&this.removeProductfromWishlist(s.nativeElement.attributes.id.nodeValue)}),this.svgCelebrate.forEach(s=>{s.nativeElement.id==i&&this.productWishList.forEach(a=>{s.nativeElement.attributes.id.nodeValue!=a._id&&s.nativeElement.classList.add("d-block")})})}removeProductfromWishlist(e){$(".wait-users-loader ").css("visibility","visible"),$(".wait-users-loader ").fadeIn(100),this._ProductsService.removeingProductToWishlist(e).subscribe({next:i=>{this.getLoggeduUserWishlist(),Swal.fire({position:"center",icon:"info",title:i.message,confirmButtonText:"Cool"})},error:i=>{$(".wait-users-loader ").fadeOut(1e3)},complete:()=>{$(".wait-users-loader ").fadeOut(1e3)}})}}return(o=d).\u0275fac=function(e){return new(e||o)(t.Y36(_.e),t.Y36(g.s),t.Y36(c.gz),t.Y36(c.F0),t.Y36(v.N))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-wish-list"]],viewQuery:function(e,i){if(1&e&&(t.Gf(h,5),t.Gf(p,5)),2&e){let s;t.iGM(s=t.CRH())&&(i.svgFilled=s),t.iGM(s=t.CRH())&&(i.svgCelebrate=s)}},standalone:!0,features:[t.jDz],decls:6,vars:1,consts:[[1,"mt","5"],[1,"container","mt-5"],[1,"fw-bolder","text-main"],[1,"row","g-4","p-5"],["class","col-md-2",4,"ngFor","ngForOf"],[1,"col-md-2"],["title","Like",1,"heart-container","cursor-pointer",3,"click"],[1,"svg-container"],["viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",1,"svg-outline"],["d","M17.5,1.917a6.4,6.4,0,0,0-5.5,3.3,6.4,6.4,0,0,0-5.5-3.3A6.8,6.8,0,0,0,0,8.967c0,4.547,4.786,9.513,8.8,12.88a4.974,4.974,0,0,0,6.4,0C19.214,18.48,24,13.514,24,8.967A6.8,6.8,0,0,0,17.5,1.917Zm-3.585,18.4a2.973,2.973,0,0,1-3.83,0C4.947,16.006,2,11.87,2,8.967a4.8,4.8,0,0,1,4.5-5.05A4.8,4.8,0,0,1,11,8.967a1,1,0,0,0,2,0,4.8,4.8,0,0,1,4.5-5.05A4.8,4.8,0,0,1,22,8.967C22,11.87,19.053,16.006,13.915,20.313Z"],["viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",1,"svg-filled","d-block",3,"id"],["svg_filled",""],["d","M17.5,1.917a6.4,6.4,0,0,0-5.5,3.3,6.4,6.4,0,0,0-5.5-3.3A6.8,6.8,0,0,0,0,8.967c0,4.547,4.786,9.513,8.8,12.88a4.974,4.974,0,0,0,6.4,0C19.214,18.48,24,13.514,24,8.967A6.8,6.8,0,0,0,17.5,1.917Z"],["width","100","height","100","xmlns","http://www.w3.org/2000/svg",1,"svg-celebrate","d-block",3,"id"],["svg_celebrate",""],["points","10,10 20,20"],["points","10,50 20,50"],["points","20,80 30,70"],["points","90,10 80,20"],["points","90,50 80,50"],["points","80,80 70,70"],[1,"product","product:hover","cursor-pointer"],[1,"",3,"routerLink"],["alt","",1,"productimageCover","w-100",3,"src"],[1,"text-main"],[1,"d-flex","justify-content-between","align-items-center"],[1,"fa-solid","fa-star","rating-color"],[1,"btn","btn-success","w-100","mb-1",3,"click"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),t._uU(3,"WishList Products: "),t.qZA(),t.TgZ(4,"div",3),t.YNc(5,f,31,10,"div",4),t.qZA()()()),2&e&&(t.xp6(5),t.Q6J("ngForOf",i.productWishList))},dependencies:[u.ez,u.sg,c.Bz,c.rH]}),d})()}}]);